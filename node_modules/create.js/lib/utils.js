var of = require('of');
var classes = require('clas');
var utils = {};

utils.index = function(list, item) {
	return Array.prototype.indexOf.call(list, item);
};

utils.hasProp = function(obj, prop) {
	return obj !== null && Object.prototype.hasOwnProperty.call(obj, prop);
};

utils.add = function(element) {
	var args = Array.prototype.slice.call(arguments, 1);

	for (var i = 0, l = args.length; i < l; i++) {
		var arg = args[i];

		if (of.string(arg)) {
			classes.add(element, arg);
		} else

		if (of.array(arg)) {
			for (var a = 0, b = arg.length; a < b; a++) {
				classes.add(element, arg[a]);
			}
		} else

		if (of.object(arg)) {
			for (var property in arg) {
				if (property !== null && arg[property] !== undefined && utils.hasProp(arg, property)) {
					element.setAttribute(property, arg[property]);
				}
			}
		}
	}
	return element;
};

module.exports = utils;